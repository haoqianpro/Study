<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
    </head>
    <body>
        <div id="fade-obj" style="width: 300px; height: 300px; background: #000; opacity: 1"></div>
        <button id="fade-btn">淡出</button>
        <script>
            const fadeBtn = document.querySelector("#fade-btn");
            const fadeObj = document.querySelector("#fade-obj");
            fadeBtn.onclick = function () {
                fadeBtn.disabled = true;
                if (fadeBtn.innerHTML === "淡出") {
                    let timer = setInterval(function () {
                        let opacity = parseFloat(fadeObj.style.opacity);
                        opacity -= 0.1;
                        fadeObj.style.opacity = opacity + "";
                        if (opacity <= 0) {
                            fadeObj.style.opacity = "0";
                            fadeBtn.innerHTML = "淡入";
                            fadeBtn.disabled = false;
                            clearInterval(timer);
                        }
                    }, 500);
                } else {
                    let timer = setInterval(function () {
                        let opacity = parseFloat(fadeObj.style.opacity);
                        opacity += 0.1;
                        fadeObj.style.opacity = opacity + "";
                        if (opacity >= 1) {
                            fadeObj.style.opacity = "1";
                            fadeBtn.innerHTML = "淡出";
                            fadeBtn.disabled = false;
                            clearInterval(timer);
                        }
                    }, 500);
                }
            };
        </script>
    </body>
</html>
